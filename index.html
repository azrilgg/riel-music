<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Riel music fav</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Poppins', sans-serif;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .music-card {
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }
        
        .music-card:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.15);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
        }
        
        .play-button {
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            transition: all 0.3s ease;
        }
        
        .play-button:hover {
            transform: scale(1.1);
            box-shadow: 0 10px 20px rgba(255, 107, 107, 0.4);
        }
        
        .spotify-player {
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        .wave {
            display: inline-block;
            animation: wave 1.5s ease-in-out infinite;
        }
        
        .wave:nth-child(2) { animation-delay: 0.1s; }
        .wave:nth-child(3) { animation-delay: 0.2s; }
        .wave:nth-child(4) { animation-delay: 0.3s; }
        
        @keyframes wave {
            0%, 100% { transform: scaleY(1); }
            50% { transform: scaleY(1.5); }
        }
    </style>
</head>
<body class="gradient-bg min-h-screen">
    <div class="container mx-auto px-4 py-8">
        <!-- Header -->
        <div class="text-center mb-12">
            <h1 class="text-5xl font-bold text-white mb-4">
                üéµ Riel Fav music
            </h1>
            <p class="text-xl text-white/80">Koleksi lagu favorit saya</p>
        </div>

        <!-- Music List -->
        <div class="max-w-4xl mx-auto space-y-6" id="musicList">
            <!-- Music cards will be generated here -->
        </div>

        <!-- Current Playing Section -->
        <div class="max-w-2xl mx-auto mt-12" id="playerSection" style="display: none;">
            <div class="music-card rounded-2xl p-6">
                <h3 class="text-2xl font-semibold text-white mb-4 text-center">
                    üéß Sedang Diputar
                </h3>
                <div id="currentPlayer" class="spotify-player">
                    <!-- Spotify embed will be inserted here -->
                </div>
            </div>
        </div>
    </div>

    <script>
        const music = [
            {
                "judul": "Closer",
                "penyanyi": "The Chainsmokers, Halsey",
                "embed": "https://open.spotify.com/track/7BKLCZ1jbUBVqRi2FVlTVw?si=fmP0UXeuTpKwbWi8Cimeow"
            }
        ];

        let currentlyPlaying = null;

        function getSpotifyEmbedUrl(spotifyUrl) {
            // Convert Spotify URL to embed URL
            const trackId = spotifyUrl.match(/track\/([a-zA-Z0-9]+)/);
            if (trackId) {
                return `https://open.spotify.com/embed/track/${trackId[1]}?utm_source=generator&theme=0`;
            }
            return null;
        }

        function createMusicCard(song, index) {
            const embedUrl = getSpotifyEmbedUrl(song.embed);
            
            return `
                <div class="music-card rounded-2xl p-6 flex items-center justify-between">
                    <div class="flex items-center space-x-4">
                        <div class="w-16 h-16 bg-gradient-to-br from-purple-400 to-pink-400 rounded-full flex items-center justify-center text-2xl">
                            üéµ
                        </div>
                        <div>
                            <h3 class="text-xl font-semibold text-white">${song.judul}</h3>
                            <p class="text-white/70">${song.penyanyi}</p>
                        </div>
                    </div>
                    
                    <div class="flex items-center space-x-4">
                        <div class="hidden md:flex space-x-1" id="visualizer-${index}">
                            <div class="wave w-1 h-8 bg-white/50 rounded-full"></div>
                            <div class="wave w-1 h-6 bg-white/50 rounded-full"></div>
                            <div class="wave w-1 h-10 bg-white/50 rounded-full"></div>
                            <div class="wave w-1 h-4 bg-white/50 rounded-full"></div>
                        </div>
                        
                        <button 
                            onclick="playMusic('${embedUrl}', '${song.judul}', '${song.penyanyi}', ${index})"
                            class="play-button w-14 h-14 rounded-full flex items-center justify-center text-white font-bold text-xl shadow-lg"
                            id="playBtn-${index}"
                        >
                            ‚ñ∂Ô∏è
                        </button>
                    </div>
                </div>
            `;
        }

        function playMusic(embedUrl, title, artist, index) {
            const playerSection = document.getElementById('playerSection');
            const currentPlayer = document.getElementById('currentPlayer');
            const playBtn = document.getElementById(`playBtn-${index}`);
            
            // Reset all buttons
            document.querySelectorAll('[id^="playBtn-"]').forEach(btn => {
                btn.innerHTML = '‚ñ∂Ô∏è';
                btn.classList.remove('pulse');
            });
            
            // Hide all visualizers
            document.querySelectorAll('[id^="visualizer-"]').forEach(viz => {
                viz.style.display = 'none';
            });
            
            if (currentlyPlaying === index) {
                // Stop playing
                playerSection.style.display = 'none';
                currentlyPlaying = null;
                return;
            }
            
            // Show visualizer for current song
            const visualizer = document.getElementById(`visualizer-${index}`);
            visualizer.style.display = 'flex';
            
            // Update button state
            playBtn.innerHTML = '‚è∏Ô∏è';
            playBtn.classList.add('pulse');
            
            // Create Spotify embed
            currentPlayer.innerHTML = `
                <iframe 
                    src="${embedUrl}" 
                    width="100%" 
                    height="352" 
                    frameborder="0" 
                    allowtransparency="true" 
                    allow="encrypted-media">
                </iframe>
            `;
            
            // Show player section with animation
            playerSection.style.display = 'block';
            playerSection.scrollIntoView({ behavior: 'smooth', block: 'center' });
            
            currentlyPlaying = index;
        }

        // Generate music cards
        function renderMusicList() {
            const musicList = document.getElementById('musicList');
            musicList.innerHTML = music.map((song, index) => createMusicCard(song, index)).join('');
        }

        // Initialize the page
        renderMusicList();
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'977229db5724fda6',t:'MTc1NjUzNDYyOS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
